<html>

  <title>WSocket test</title>

  <script>
    var ws = new WebSocket("ws://localhost:9000/", "Test");

    function send() {
      var _data = document.getElementById("text").value;

      //Once our connection is open we need to choose our username
      var data = {"code": 5, "username": "Test"};
      ws.send(JSON.stringify(data));

      //Join queue
      var data = {"code": 3};
      ws.send(JSON.stringify(data));

      //Leave queue
      data["code"] = 4;
      ws.send(JSON.stringify(data));

      //Leave session
      data["code"] = 1;
      ws.send(JSON.stringify(data));

      ws.send(JSON.stringify("asdf"));
    }

  </script>

  <body>

   <input id="text" name="text" placeholder="Dont use this"/>
   <button onclick="send()">Send</button>
   <p>This will send 3 different packets and a broken one.</p>

  </body>

</html>
